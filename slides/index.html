<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>AngularJS & Express: A Data-Driven Introduction</title>

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css">
    <link rel="stylesheet" href="css/overrides.css">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body id="body">
		<div class="reveal">

			<div class="slides">
				<section>
          <h2>
            <span class="em4">AngularJS</span> &amp;
            <span class="em3">Express</span>:
            A <span class="em2">Data-Driven</span> Introduction
          </h2>
          <p>
            <span class="em">FITC Toronto</span>, March 2014
          </p>
          <p>
            By Matias Niemelä
          </p>
        </section>

				<section>
					<h2 class="em">@yearofmoo</h2>
          <div id="logo"></div>
          <p class="fragment fade-in">
            <a class="em2" target="_blank" href="http://www.yearofmoo.com">http://www.yearofmoo.com</a>
          </p>
					<p class="fragment fade-in">
            Nine major AngularJS articles.
					</p>

					<p class="fragment fade-in">
            Great resource to learn about <span class="em3">AngularJS</span>.
					</p>
				</section>

				<section>
					<h2 class="em">Link to Slides</h2>
          <p class="fragment fade-in">
            <a target="_blank" href="http://yom.nu/fitc-march-2014" rel="nofollow">
              yom.nu/fitc-march-2014
            </a>
          </p>
				</section>

        <section>
          <h2 class="em">The EA in MEAN</h2>
          <p class="fragment fade-in">
            Express (backend)
          </p>
          <p class="fragment fade-in">
            Angular (front-end)
          </p>
        </section>

        <section>
          <h2 class="em">The role of the Backend</h2>
          <p class="fragment fade-in">
            Connects to the database
          </p>
          <p class="fragment fade-in">
            Delivers data to the user
          </p>
          <p class="fragment fade-in">
            Handles sessions, authentication and authorization
          </p>
        </section>

        <section>
          <h2 class="em">The role of the Front-end</h2>
          <p class="fragment fade-in">
            Consumes API data
          </p>
          <p class="fragment fade-in">
            Uses HTML templates to render data
          </p>
          <p class="fragment fade-in">
            Handles the user interactivity
          </p>
        </section>

        <section>
          <h2 class="em">How is this different from websites 10 years ago?</h2>
          <p class="fragment fade-in">
            99% of the backend is sessions and API data
          </p>
          <p class="fragment fade-in">
            HTML is static
          </p>
          <p class="fragment fade-in">
            The front-end is more dynamic and structured
          </p>
        </section>

        <section>
          <h2 class="em">Express is our backend</h2>
          <p class="fragment fade-in">
            Communicates with MongoDB
          </p>
          <p class="fragment fade-in">
            REST-style data transfer
          </p>
          <p class="fragment fade-in">
            Exposes an API for Angular to use
          </p>
        </section>

        <section>
          <h2 class="em">What is AngularJS</h2>
          <p class="fragment fade-in">
            A JavaScript MVC framework
          </p>
          <p class="fragment fade-in">
            Designed for single-page applications
          </p>
          <p class="fragment fade-in">
            Data-driven interfaces
          </p>
          <p class="fragment fade-in">
            A real pleasure to build applications with
          </p>
        </section>

        <section>
          <h2 class="em">How Express and Angular talk with each other?</h2>
          <p class="fragment fade-in">
            Express returns an API response
          </p>
          <p class="fragment fade-in">
            Angular reads that response and updates it’s memory
          </p>
          <p class="fragment fade-in">
            The HTML page updates automatically
          </p>
          <p class="fragment fade-in">
            No need to refresh
          </p>
        </section>

        <section>
          <h2 class="em">AngularJS 101</h2>
          <p class="fragment fade-in">
            Let's see a demo of AngularJS in action
          </p>
        </section>

        <section>
          <h2 class="em">Key features of AngularJS</h2>
          <p class="fragment fade-in">
            Two-way data binding
          </p>
          <p class="fragment fade-in">
            Modules &amp; Dependency Injection
          </p>
          <p class="fragment fade-in">
            MVC-based architecture
          </p>
          <p class="fragment fade-in">
            Form validations, Deep-linking, Animations
          </p>
          <p class="fragment fade-in">
            Unit &amp; Integration Testing
          </p>
        </section>

        <section>
          <h2 class="em">Getting Started</h2>
          <p class="fragment fade-in">
            Setup a basic HTML index.html file
          </p>
          <pre class="big-code fragment fade-in"><code data-trim>
&lt;html ng-app&gt;
&lt;body&gt;
  <div ng-init="myName='Matias'">
    Hello {{ myName }}
  </div>
  &lt;script type="text/javascript" src="angular.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
          </code></pre>
        </section>

        <section>
          <h2 class="em">Basic Interactivity</h2>
          <pre class="big-code fragment fade-in"><code data-trim>
&lt;html ng-app="myApp"&gt;
&lt;body&gt;
  &lt;div ng-controller="AppCtrl"&gt;
    &lt;input type="text" ng-model="myName" /&gt;
    Hello {{ myName }}
  &lt;/div&gt;
  &lt;script type="text/javascript" src="angular.js"&gt;&lt;/script&gt;
  &lt;script type="text/javascript"&gt;
    var app = angular.module('myApp', [])
    app.controller('AppCtrl', function($scope) {
      $scope.myName = '...';
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
          </code></pre>
        </section>

        <section>
          <h2 class="em">Modules (HTML)</h2>
          <p class="fragment fade-in">
            All AngularJS JavaScript code is stored in modules
          </p>
          <pre class="big-code fragment fade-in"><code>
var app = angular.module('superModule', ['otherModule', 'anotherModule']);
          </code></pre>

          <p class="fragment fade-in">
            And a module is attached to a page
          </p>

          <pre class="big-code fragment fade-in"><code style="text-align:center">
&lt;html ng-app="superModule"&gt; ... &lt;/html&gt;
          </code></pre>
        </section>

        <section>
          <h2 class="em">Modules (JavaScript)</h2>
          <p class="fragment fade-in">
            Modules are used to define services, controllers, directives and filters
          </p>

          <p class="fragment fade-in">
            Each module member is a constructor which can inject other services
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
app.factory('myValues', function() {
return function() {
  return [1,2,3,4,5,6];
};
});
app.filter('skipFirstValue', function() {
return function(data) {
  return data.slice(1);
}
});
app.run(function($rootScope, myValues, skipFirstValueFilter) {
//this is called when the page is loaded
$rootScope.values = skipFirstValue(myValues());
});
          </code></pre>
        </section>

        <section>
          <h2 class="em">$scope</h2>
          <p class="fragment fade-in">
            The scope is the glue between JavaScript and HTML in AngularJS 
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
app.controller('AppCtrl', function($scope) {
  $scope.totalApples = 0;
  $scope.moreApples = function() {
    $scope.totalApples++;
  }
});
          </code></pre>

          <p class="fragment fade-in">
            Anything placed on the <span class="em2">$scope</span> object can be referenced in <span class="em2">HTML</span>
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
<div ng-controller="AppCtrl">
  Hello, so far I have <strong>{{ totalApples }}</strong> apples.
  <button ng-click="moreApples()">Give me more!</button>
</diV>
          </code></pre>

          <p class="fragment fade-in">
            Think of the scope as the memory for your HTML
          </p>

        </section>

        <section>
          <h2 class="em">$rootScope and nested scopes</h2>
          <p class="fragment fade-in">
            $rootScope is the base scope of all scopes
          </p>

          <p class="fragment fade-in">
            A child scope is a new container within a scope
          </p>

          <p class="fragment fade-in">
            AngularJS may create additional child scopes to isolate data
            within a template
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
&lt;div ng-controller="AppCtrl as outer"&gt;
&lt;div ng-controller="InnerCtrl as inner" ng-init="value='1'"&gt;
  {{ inner.value }}
&lt;/div&gt;
&lt;div ng-controller="InnerCtrl as inner" ng-init="value='2'"&gt;
  {{ inner.value }}
&lt;/div&gt;
&lt;/div&gt;
          </code></pre>
        </section>

        <section>
          <h2 class="em">ngRepeat</h2>

          <p class="fragment fade-in">
            ngRepeat renders a list of items from a scope member
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
var app = angular.module('myApp', []);
app.controller('ColorsCtrl', function($scope) {
$scope.colors = 'red,green,blue,orange,yellow,purple,gray'.split(',');
$scope.tooManyColors = function() {
  return $scope.colors.length >= 5;
};
});
          </code></pre>

          <pre class="big-code fragment fade-in"><code data-trim>
&lt;div ng-controller="ColorsCtrl"&gt;
<div ng-if="tooManyColors()">
  This application has too many colors! 
</div>
&lt;div ng-repeat="color in colors"&gt;
  {{ color }}
&lt;/div&gt;
&lt;/div&gt;
          </code></pre>

        </section>

        <section>
          <h2 class="em">ngInclude</h2>

          <p class="fragment fade-in">
            <span class="em2">ngInclude</span> works to render content like ngView does
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
&lt;div ng-controller="AppCtrl as app"&gt;
&lt;select ng-model="app.templateValue"&gt;
  &lt;option value="'frame1.html'"&gt;Frame 1&lt;/option&gt;
  &lt;option value="'frame2.html'"&gt;Frame 2&lt;/option&gt;
&lt;/select&gt;
&lt;div ng-include="app.templateValue"&gt;&lt;/div&gt;
&lt;/div&gt;
          </code></pre>
        </section>

        <section>
          <h2 class="em">ngShow / ngHide</h2>

          <p class="fragment fade-in">
            <span class="em2">ngShow</span> and <span class="em2">ngHide</span> show and hide an element on screen
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
&lt;div ng-controller="AppCtrl as app"&gt;
&lt;button ng-click="app.showMe=true"&gt;
  Show
&lt;/em&gt;
&lt;button ng-click="app.showMe=false"&gt;
  Hide
&lt;/em&gt;
&lt;div ng-show="app.showMe"&gt;
  I am visible...
&lt;/div&gt;
&lt;/div&gt;
          </code></pre>
        </section>


        <section>
          <h2 class="em">AngularJS 201 (routes and a working interface)</h2>
          <p class="fragment fade-in">
            Let's continue our demo to include routing and a forms page
          </p>
        </section>

        <section>
          <h2 class="em">Controllers and Templates</h2>
          <p class="fragment fade-in">
            Controllers are defined inside of a module like all other services
          </p>

          <pre class="big-code fragment fade-in"><code style="text-align:center">
app.controller('AppCtrl', function($scope) { ... });
          </code></pre>

          <p class="fragment fade-in">
            And they can be referenced in HTML using <span class="em2">ng-controller</span>. 
          </p>

          <p class="fragment fade-in">
            Or within routes...
          </p>

        </section>

        <section>
          <h2 class="em">Controllers &amp; Routing (JavaScript)</h2>
          <p class="fragment fade-in">
            Routes are enabled when <span class="em2">ngRoute</span> is set as a dependency
          </p>

          <p class="fragment fade-in">
            And then <span class="em2">$routeProvider</span> is used to define the routing
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
var app = angular.module('myApp', ['ngRoute']);
app.config(function($routeProvider) {
$routeProvider.when('/home', {
  controller : 'HomeCtrl',
  templateUrl : 'home.html'
});
$routeProvider.when('/contact', {
  controller : 'ContactCtrl',
  templateUrl : 'contact.html'
});
});
app.controller('HomeCtrl', function() { });
app.controller('ContactCtrl', function() { });
          </code></pre>
        </section>

        <section>
          <h2 class="em">Controllers &amp; Routing (HTML)</h2>

          <p class="fragment fade-in">
            To display views, use the <span class="em2">ng-view</span> element
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
&lt;html ng-app="myApp"&gt;
&lt;body&gt;
  &lt;div ng-view&gt;&lt;/div&gt;
  &lt;script type="text/javascript" src="angular.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
          </code></pre>

          <p class="fragment fade-in">
            Place this in your <span class="em2">index.html</span> file
          </p>
        </section>

        <section>
          <h2 class="em">AJAX using $http</h2>

          <p class="fragment fade-in">
            Use <span class="em2">$http</span> to perform an AJAX request 
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
var app = angular.module('myApp', []);
app.controller('ColorsCtrl', function($scope, $http) {
$scope.colors = $http.get('/api/colors.json');
});
          </code></pre>

          <p class="fragment fade-in">
            The scope will automatically update itself when <span class="em2">$http</span> returns gets a response
          </p>
        </section>

        <section>
          <h2 class="em">AJAX using $resource</h2>

          <p class="fragment fade-in">
            Use <span class="em2">$resource</span> to push and pull data from a RESTful API
          </p>

          <pre class="big-code fragment fade-in"><code data-trim>
var app = angular.module('myApp', ['ngResource']);
app.factory('Color', function($resource) {
return $resource('/api/colors', {
  id : '@id'
}, {
  find : { method : 'GET' },
  query : { method : 'GET', isArray: true },
  create : { method : 'POST' },
  update : { method : 'PUT' },
  destroy : { method : 'DELETE' }
});
});
app.controller('ColorsCtrl', function($scope, Color) {
$scope.colors = Color.query();
});
          </code></pre>
        </section>

        <section>
          <h2 class="em">Animations</h2>

          <p class="fragment fade-in">
            Supported with the latest release of AngularJS (v1.2-rc2)
          </p>

          <p class="fragment fade-in">
            Include the <span class="em2">ngAnimate</span> module as a dependency for your app module.
          </p>

          <pre class="big-code fragment fade-in"><code style="text-align:center">
var app = angular.module('myApp', ['ngRoute', 'ngAnimate','ngResource']);
          </code></pre>

          <p class="fragment fade-in">
            Animations work with ng-* directives automatically via CSS and/or JavaScript hooks
          </p>
        </section>

        <section>
          <h2 class="em">CSS-enabled Animations</h2>
          <p class="fragment fade-in">
            CSS3 Transitions + CSS3 Keyframe Animations are automatically triggered and rendered
          </p>

          <p class="fragment fade-in">
            Just include a CSS class on the <span class="em2">ngView</span> element
          </p> 

          <pre class="big-code fragment fade-in"><code style="text-align:center">
&lt;div ng-view class="my-view"&gt;&lt;/div&gt;
          </code></pre>

          <pre class="big-code fragment fade-in"><code data-trim>
.my-view.ng-enter, .mv-view.ng-leave {
  transition:1s linear all;
}

.my-view.ng-leave.ng-leave-active {
.my-view.ng-enter {
  opacity:0;
}

.my-view.ng-enter.ng-enter-active {
.my-view.ng-leave {
  opacity:1;
}
          </code></pre>
        </section>

        <section>
          <h2 class="em">JavaScript-enabled Animations</h2>
          <p class="fragment fade-in">
            JavaScript callbacks are available for more advanced animations
          </p>

          <p class="fragment fade-in">
            Include a CSS class just as before and map that to a JavaScript animation
          </p> 

          <pre class="big-code fragment fade-in"><code data-trim>
app.animation('.my-view', function() {
  return {
    enter : function(element, done) {
      jQuery(element).animate({
        opacity:1
      }, done);
    },
    leave : function(element, done) {
      jQuery(element).animate({
        opacity:0
      }, done);
    }
  };
});
          </code></pre>
        </section>

        <section>
          <h2 class="em">AngularJS 301 (working application)</h2>
          <p class="fragment fade-in">
            Clone the demo repo
          </p>
          <p class="fragment fade-in">
            Run <span class="em2">mongod</span> to turn <span class="em3">mongo</span> on
          </p>
          <p class="fragment fade-in">
            Make sure to run <span class="em2">npm install</span> under both directories
          </p>
          <p class="fragment fade-in">
            Run <span class="em2">node server.js</span> under <span class="em3">backend/</span>
          </p>
          <p class="fragment fade-in">
            Run <span class="em2">grunt</span> under <span class="em3">frontend/</span>
          </p>
        </section>

        <section>
          <h2 class="em">The 90% of your app</h2>
          <p class="fragment fade-in">
            not everything needs to be hooked into Angular
          </p>
          <p class="fragment fade-in">
            use express’ HTML generation if you need to
          </p>
          <p class="fragment fade-in">
            adjust your Angular routes for this
          </p>
        </section>

        <section>
          <h2 class="em">Setting up your API</h2>
          <p class="fragment fade-in">
            Don’t use a uniform API response
          </p>
          <p class="fragment fade-in">
            And if you do then use an Angular transformer
          </p>
          <p class="fragment fade-in">
            Keep things simple
          </p>
          <p class="fragment fade-in">
            Your API isn’t only for AngularJS
          </p>
        </section>

        <section>
          <h2 class="em">Setting up your code</h2>
          <p class="fragment fade-in">
            There are two ways to go about this
          </p>
          <p class="fragment fade-in">
            A: fully split up
          </p>
          <p class="fragment fade-in">
            B: fully bundled together
          </p>
        </section>

        <section>
          <h2 class="em">Scenario A: Fully split up</h2>
          <p class="fragment fade-in">
            Backend is in its own repo
          </p>
          <p class="fragment fade-in">
            Front-end is in its own repo
          </p>
          <p class="fragment fade-in">
            Both areas are managed independently 
          </p>
        </section>

        <section>
          <h2 class="em">What's good</h2>
          <p class="fragment fade-in">
            Proper isolation of code
          </p>
          <p class="fragment fade-in">
            Can be hosted in different ways
          </p>
          <p class="fragment fade-in">
            Easy to test
          </p>
          <p class="fragment fade-in">
            100% separation between static & dynamic code
          </p>
          <p class="fragment fade-in">
            Can easily be delivered by a CDN
          </p>
          <p class="fragment fade-in">
            Caching is much easier
          </p>
        </section>

        <section>
          <h2 class="em">What's bad</h2>
          <p class="fragment fade-in">
            API + website are hosted on different domains
          </p>
          <p class="fragment fade-in">
            Complications with hosting CORS
          </p>
          <p class="fragment fade-in">
            No support for dynamic HTML pages
          </p>
          <p class="fragment fade-in">
            Authentication becomes more tricky
          </p>
          <p class="fragment fade-in">
            Keeping the backend &amp; front-end in sync is hard
          </p>
        </section>

        <section>
          <h2 class="em">Scenario B: Half and half</h2>
          <p class="fragment fade-in">
            Express delivers everything on the same domain
          </p>
          <p class="fragment fade-in">
            The website contains the API and Angular code
          </p>
          <p class="fragment fade-in">
            Angular behaves as normal
          </p>
        </section>

        <section>
          <h2 class="em">How to setup your URLs</h2>
          <p class="fragment fade-in">
            /api/ for the express API
          </p>
          <p class="fragment fade-in">
            / (index) for the angular app
          </p>
          <p class="fragment fade-in">
            /page for non-angular pages
          </p>
          <p class="fragment fade-in">
            /#/ for an angular route
          </p>
        </section>


        <section>
          <h2 class="em">What’s good</h2>
          <p class="fragment fade-in">
            Everything is on the same domain
          </p>
          <p class="fragment fade-in">
            Dynamic pages are available as well
          </p>
          <p class="fragment fade-in">
            Support for a dynamic index.html page
          </p>
          <p class="fragment fade-in">
            Authentication, authorization is easier and consistent
          </p>
        </section>

        <section>
          <h2 class="em">What's bad</h2>
          <p class="fragment fade-in">
            HTML templates cannot be cached on a CDN
          </p>
          <p class="fragment fade-in">
            The API cannot be deployed on it’s own server
          </p>
          <p class="fragment fade-in">
            The backend cannot be replaced easily
          </p>
          <p class="fragment fade-in">
            Testing becomes more complicated
          </p>
        </section>

        <section>
          <h2 class="em">More Reading on Testing</h2>
          <p class="fragment fade-in">
            Testing with Angular: <a target="_blank" href="http://bit.ly/13XX34D" class="em">http://bit.ly/13XX34D</a>
          </p>
          <p class="fragment fade-in">
            Advanced Testing: <a target="_blank" href="http://yom.nu/ngtesting-article" class="em">http://yom.nu/ngtesting-article</a>
          </p>
        </section>

        <section>
          <h2 class="em">More Reading on Angular</h2>
          <p class="fragment fade-in">
            Testing with Angular: <a target="_blank" href="http://egghead.io" class="em">egghead.io</a>
          </p>
          <p class="fragment fade-in">
            Advanced Testing: <a target="_blank" href="http://ng-newsletter.com" class="em">ng-newsletter</a>
          </p>
        </section>

        <section>
          <h2 class="em">Thank you!</h2>
          <p class="fragment fade-in">
            Thank you for making this possible
          </p>
          <div id="slogo"></div>
          <p class="fragment fade-in">
					  <a href="https://twitter.com/yearofmoo" class="em" target="_blank">@yearofmoo</a>
          </p>
          <p class="fragment fade-in">
            Feel free to contact me via <span class="em">matias@yearofmoo.com</span>
          </p>
        </section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

        width: 1280,
        height: 700,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'fade', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});
		</script>

	</body>
</html>
